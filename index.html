<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apex Legends Randomizer</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="Generate a random Apex Legends character with our fast and free randomizer. Fun slot-machine animation, no login required!" />
  <meta name="keywords" content="Apex Legends, randomizer, legend picker, dark theme, gaming tools" />
  <link rel="canonical" href="https://yourdomain.com/" />

  <!-- Tailwind & Styles -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes slotFlip {
      0% { transform: translateY(-10%); opacity: 0.5; }
      50% { transform: translateY(10%); opacity: 1; }
      100% { transform: translateY(0); opacity: 1; }
    }
    .slot-flip { animation: slotFlip 0.1s ease-in-out infinite; }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center justify-center p-4">
  <div class="w-full max-w-md">
    <h1 class="text-4xl font-bold mb-4 text-center whitespace-nowrap">Apex Legends Randomizer</h1>
    <div id="randomizer" class="space-y-4 p-4">
      <!-- Placeholder area: fixed square, grey background -->
      <div id="imageWrapper" class="w-full flex items-center justify-center bg-gray-700 rounded overflow-hidden" style="aspect-ratio:1/1;">
        <img id="legendImage" src="" alt="" class="hidden w-full h-full object-contain rounded" />
      </div>

      <!-- Randomize Button -->
      <button id="randomizeBtn" class="w-full bg-gray-700 hover:bg-gray-600 text-white rounded py-2 font-medium">Randomize Legend</button>

      <!-- Result Display -->
      <div id="result" class="mt-2 p-4 bg-gray-700 rounded hidden text-center">
        <p id="legendResult" class="font-semibold text-white"></p>
      </div>
    </div>
  </div>

  <!-- Randomizer Logic -->
  <script>
    const legends = ["Wraith","Caustic","Valkyrie","Rampart"];
    const legendImages = {
      wraith:   'https://cdn.jsdelivr.net/gh/bhootjolokia/randomizer@main/images/legends/wraith.png',
      caustic:  'https://cdn.jsdelivr.net/gh/bhootjolokia/randomizer@main/images/legends/caustic.png',
      valkyrie: 'https://cdn.jsdelivr.net/gh/bhootjolokia/randomizer@main/images/legends/valkyrie.png',
      rampart:  'https://cdn.jsdelivr.net/gh/bhootjolokia/randomizer@main/images/legends/rampart.png'
    };

    const legendImage = document.getElementById("legendImage");
    const randomizeBtn = document.getElementById("randomizeBtn");
    const resultDiv = document.getElementById("result");
    const legendResult = document.getElementById("legendResult");

    function pickRandomLegend() {
      return legends[Math.floor(Math.random() * legends.length)];
    }

    const animationCount = 20;
    const animationSpeed = 100;

    randomizeBtn.addEventListener("click", () => {
      legendImage.classList.remove('hidden');
      randomizeBtn.disabled = true;
      resultDiv.classList.add("hidden");
      legendImage.classList.add('slot-flip');

      let flips = 0;
      const interval = setInterval(() => {
        const interim = pickRandomLegend();
        legendImage.src = legendImages[interim.toLowerCase()];
        legendImage.alt = interim;
        legendResult.textContent = interim;

        if (++flips >= animationCount) {
          clearInterval(interval);
          legendImage.classList.remove('slot-flip');
          const finalLegend = pickRandomLegend();
          legendImage.src = legendImages[finalLegend.toLowerCase()];
          legendImage.alt = finalLegend;
          legendResult.textContent = finalLegend;
          resultDiv.classList.remove("hidden");
          randomizeBtn.disabled = false;
        }
      }, animationSpeed);
    });
  </script>
</body>
</html>
